{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  basket: null,\n  status: 'idle'\n};\nexport const addBasketItemAsync = createAsyncThunk('basket/addBasketItemAsync', async({\n  productId,\n  quantity\n}));\nexport const BasketSlice = createSlice({\n  name: 'basket',\n  initialState,\n  reducers: {\n    setBasket: (state, action) => {\n      state.basket = action.payload;\n    },\n    removeItem: (state, action) => {\n      var _state$basket, _state$basket2;\n\n      const {\n        productId,\n        quantity\n      } = action.payload;\n      const itemIndex = (_state$basket = state.basket) === null || _state$basket === void 0 ? void 0 : _state$basket.items.findIndex(i => i.productId === productId);\n      if (itemIndex === -1 || itemIndex === undefined) return;\n      state.basket.items[itemIndex].quantity -= quantity;\n      if (((_state$basket2 = state.basket) === null || _state$basket2 === void 0 ? void 0 : _state$basket2.items[itemIndex].quantity) === 0) state.basket.items.splice(itemIndex, 1);\n    }\n  }\n});\nexport const {\n  setBasket,\n  removeItem\n} = BasketSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","basket","status","addBasketItemAsync","async","productId","quantity","BasketSlice","name","reducers","setBasket","state","action","payload","removeItem","itemIndex","items","findIndex","i","undefined","splice","actions"],"sources":["D:/Project/client/src/Features/Basket/BasketSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { Basket } from \"../../App/Models/Basket\";\r\n\r\n\r\ninterface BasketState {\r\n    basket: Basket | null;\r\n    status:string;\r\n}\r\n\r\nconst initialState: BasketState = {\r\n    basket: null,\r\n    status:'idle'\r\n}\r\n\r\nexport const addBasketItemAsync= createAsyncThunk(\r\n    'basket/addBasketItemAsync',\r\n    async ({productId, quantity})\r\n)\r\n\r\nexport const BasketSlice = createSlice({\r\n    name: 'basket',\r\n    initialState,\r\n    reducers: {\r\n        setBasket: (state, action) => {\r\n            state.basket = action.payload\r\n        },\r\n        removeItem: (state, action) => {\r\n            const { productId, quantity } = action.payload;\r\n            const itemIndex = state.basket?.items.findIndex(i => i.productId === productId);\r\n\r\n            if (itemIndex === -1 || itemIndex === undefined) return;\r\n            state.basket!.items[itemIndex].quantity -= quantity;\r\n\r\n            if (state.basket?.items[itemIndex].quantity === 0)\r\n                state.basket.items.splice(itemIndex, 1);\r\n        }\r\n    }\r\n})\r\n\r\nexport const {setBasket, removeItem} = BasketSlice.actions;"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AASA,MAAMC,YAAyB,GAAG;EAC9BC,MAAM,EAAE,IADsB;EAE9BC,MAAM,EAAC;AAFuB,CAAlC;AAKA,OAAO,MAAMC,kBAAkB,GAAEL,gBAAgB,CAC7C,2BAD6C,EAE7CM,KAAK,CAAE;EAACC,SAAD;EAAYC;AAAZ,CAAF,CAFwC,CAA1C;AAKP,OAAO,MAAMC,WAAW,GAAGR,WAAW,CAAC;EACnCS,IAAI,EAAE,QAD6B;EAEnCR,YAFmC;EAGnCS,QAAQ,EAAE;IACNC,SAAS,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAC1BD,KAAK,CAACV,MAAN,GAAeW,MAAM,CAACC,OAAtB;IACH,CAHK;IAINC,UAAU,EAAE,CAACH,KAAD,EAAQC,MAAR,KAAmB;MAAA;;MAC3B,MAAM;QAAEP,SAAF;QAAaC;MAAb,IAA0BM,MAAM,CAACC,OAAvC;MACA,MAAME,SAAS,oBAAGJ,KAAK,CAACV,MAAT,kDAAG,cAAce,KAAd,CAAoBC,SAApB,CAA8BC,CAAC,IAAIA,CAAC,CAACb,SAAF,KAAgBA,SAAnD,CAAlB;MAEA,IAAIU,SAAS,KAAK,CAAC,CAAf,IAAoBA,SAAS,KAAKI,SAAtC,EAAiD;MACjDR,KAAK,CAACV,MAAN,CAAce,KAAd,CAAoBD,SAApB,EAA+BT,QAA/B,IAA2CA,QAA3C;MAEA,IAAI,mBAAAK,KAAK,CAACV,MAAN,kEAAce,KAAd,CAAoBD,SAApB,EAA+BT,QAA/B,MAA4C,CAAhD,EACIK,KAAK,CAACV,MAAN,CAAae,KAAb,CAAmBI,MAAnB,CAA0BL,SAA1B,EAAqC,CAArC;IACP;EAbK;AAHyB,CAAD,CAA/B;AAoBP,OAAO,MAAM;EAACL,SAAD;EAAYI;AAAZ,IAA0BP,WAAW,CAACc,OAA5C"},"metadata":{},"sourceType":"module"}