{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\client\\\\src\\\\Features\\\\Checkout\\\\CheckoutWrapper.tsx\",\n    _s = $RefreshSig$();\n\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { useEffect, useState } from \"react\";\nimport Agent from \"../../App/Api/Agent\";\nimport LoadingComponent from \"../../App/Layout/LoadingComponent\";\nimport { useAppDispatch } from \"../../App/Store/ConfigureStore\";\nimport { setBasket } from \"../Basket/BasketSlice\";\nimport CheckoutPage from \"./CheckoutPage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst stripePromise = loadStripe('pk_test_51M54W9GKSSsYfZ5pFX3byL4MPZfRv2e7PJBPcdgMBBUO2Tbk2zeWLxg662WvsLwIc8QOexSiWXxrGnsnCuV4wBhz00uvLDHUkX');\nexport default function CheckoutWrapper() {\n  _s();\n\n  const dispatch = useAppDispatch();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    Agent.Payment.createPaymentIntent().then(basket => dispatch(setBasket(basket))).catch(err => console.log(err)).finally(() => setLoading(false));\n  }, [dispatch]);\n  if (loading) return /*#__PURE__*/_jsxDEV(LoadingComponent, {\n    message: \"Loading Checkout...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Elements, {\n    stripe: stripePromise,\n    children: /*#__PURE__*/_jsxDEV(CheckoutPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckoutWrapper, \"3sfWZ3jdaeJq8t0Eu0ezsz3CxT4=\", false, function () {\n  return [useAppDispatch];\n});\n\n_c = CheckoutWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckoutWrapper\");","map":{"version":3,"names":["Elements","loadStripe","useEffect","useState","Agent","LoadingComponent","useAppDispatch","setBasket","CheckoutPage","stripePromise","CheckoutWrapper","dispatch","loading","setLoading","Payment","createPaymentIntent","then","basket","catch","err","console","log","finally"],"sources":["D:/Project/client/src/Features/Checkout/CheckoutWrapper.tsx"],"sourcesContent":["import { Elements } from \"@stripe/react-stripe-js\";\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Agent from \"../../App/Api/Agent\";\r\nimport LoadingComponent from \"../../App/Layout/LoadingComponent\";\r\nimport { useAppDispatch } from \"../../App/Store/ConfigureStore\";\r\nimport { setBasket } from \"../Basket/BasketSlice\";\r\nimport CheckoutPage from \"./CheckoutPage\";\r\n\r\nconst stripePromise = loadStripe('pk_test_51M54W9GKSSsYfZ5pFX3byL4MPZfRv2e7PJBPcdgMBBUO2Tbk2zeWLxg662WvsLwIc8QOexSiWXxrGnsnCuV4wBhz00uvLDHUkX');\r\n\r\nexport default function CheckoutWrapper() {\r\n\r\n    const dispatch = useAppDispatch();\r\n    const[loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        Agent.Payment.createPaymentIntent()\r\n        .then(basket => dispatch(setBasket(basket)))\r\n        .catch(err => console.log(err))\r\n        .finally(() => setLoading(false))\r\n    }, [dispatch]);\r\n\r\n    if(loading) return <LoadingComponent message = 'Loading Checkout...'/>\r\n\r\n    return (\r\n        <Elements stripe={stripePromise}>\r\n            <CheckoutPage />\r\n        </Elements>\r\n    )\r\n}"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,yBAAzB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,SAASC,cAAT,QAA+B,gCAA/B;AACA,SAASC,SAAT,QAA0B,uBAA1B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,aAAa,GAAGR,UAAU,CAAC,6GAAD,CAAhC;AAEA,eAAe,SAASS,eAAT,GAA2B;EAAA;;EAEtC,MAAMC,QAAQ,GAAGL,cAAc,EAA/B;EACA,MAAK,CAACM,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAArC;EAEAD,SAAS,CAAC,MAAM;IACZE,KAAK,CAACU,OAAN,CAAcC,mBAAd,GACCC,IADD,CACMC,MAAM,IAAIN,QAAQ,CAACJ,SAAS,CAACU,MAAD,CAAV,CADxB,EAECC,KAFD,CAEOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFd,EAGCG,OAHD,CAGS,MAAMT,UAAU,CAAC,KAAD,CAHzB;EAIH,CALQ,EAKN,CAACF,QAAD,CALM,CAAT;EAOA,IAAGC,OAAH,EAAY,oBAAO,QAAC,gBAAD;IAAkB,OAAO,EAAG;EAA5B;IAAA;IAAA;IAAA;EAAA,QAAP;EAEZ,oBACI,QAAC,QAAD;IAAU,MAAM,EAAEH,aAAlB;IAAA,uBACI,QAAC,YAAD;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;GAnBuBC,e;UAEHJ,c;;;KAFGI,e"},"metadata":{},"sourceType":"module"}