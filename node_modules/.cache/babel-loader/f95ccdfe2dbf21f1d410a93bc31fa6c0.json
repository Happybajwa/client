{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\client\\\\src\\\\App\\\\Context\\\\StoreContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StoreContext = /*#__PURE__*/createContext(undefined);\nexport function useStoreContext() {\n  _s();\n\n  const context = useContext(StoreContext);\n\n  if (context === undefined) {\n    throw Error('Oops - we do no seem to be inside the provider');\n  }\n\n  return context;\n}\n\n_s(useStoreContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport function StoreProvider(_ref) {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [basket, setBasket] = useState(null);\n\n  function removeItem(productId, quantity) {\n    if (!basket) return;\n    const items = [...basket.items];\n    const itemIndex = items.findIndex(i => i.productId === productId);\n\n    if (itemIndex >= 0) {\n      items[itemIndex].quantity -= quantity;\n\n      if (items[itemIndex].quantity === 0) {\n        items.splice(itemIndex, 1);\n      }\n\n      setBasket(prevState => {\n        return { ...prevState,\n          items\n        };\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: {\n      basket,\n      setBasket,\n      removeItem\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(StoreProvider, \"6sXALPV33nKSmlKdeB1CvsMyOVU=\");\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"names":["createContext","useContext","useState","StoreContext","undefined","useStoreContext","context","Error","StoreProvider","children","basket","setBasket","removeItem","productId","quantity","items","itemIndex","findIndex","i","splice","prevState"],"sources":["D:/Project/client/src/App/Context/StoreContext.tsx"],"sourcesContent":["import { createContext, PropsWithChildren, useContext, useState } from \"react\";\r\nimport { Basket } from \"../Models/Basket\";\r\n\r\ninterface StoreContextValue {\r\n    basket:Basket | null;\r\n    setBasket: (basket:Basket) => void;\r\n    removeItem: (productId:number, quantity:number) => void;\r\n}\r\n\r\nexport const StoreContext = createContext<StoreContextValue | undefined> (undefined);\r\n\r\nexport function useStoreContext() {\r\n    const context = useContext(StoreContext);\r\n\r\n    if(context === undefined){\r\n        throw Error('Oops - we do no seem to be inside the provider');\r\n    }\r\n    return context;\r\n}\r\n\r\nexport function StoreProvider({children}: PropsWithChildren<any>){\r\n    const [basket, setBasket]=useState<Basket | null>(null); \r\n\r\n    function removeItem(productId:number,quantity:number){\r\n        if(!basket) return;\r\n\r\n        const items = [...basket.items];\r\n        const itemIndex = items.findIndex(i => i.productId === productId);\r\n        if(itemIndex >= 0){\r\n            items[itemIndex].quantity -= quantity;\r\n            if(items[itemIndex].quantity === 0)\r\n            {\r\n                items.splice(itemIndex, 1);\r\n            }\r\n            setBasket(prevState => {\r\n                return{...prevState!, items}\r\n            })\r\n        } \r\n    }\r\n    return (\r\n        <StoreContext.Provider value={{basket, setBasket, removeItem}}>\r\n            {children}\r\n        </StoreContext.Provider>\r\n    )\r\n}"],"mappings":";;;;AAAA,SAASA,aAAT,EAA2CC,UAA3C,EAAuDC,QAAvD,QAAuE,OAAvE;;AASA,OAAO,MAAMC,YAAY,gBAAGH,aAAa,CAAiCI,SAAjC,CAAlC;AAEP,OAAO,SAASC,eAAT,GAA2B;EAAA;;EAC9B,MAAMC,OAAO,GAAGL,UAAU,CAACE,YAAD,CAA1B;;EAEA,IAAGG,OAAO,KAAKF,SAAf,EAAyB;IACrB,MAAMG,KAAK,CAAC,gDAAD,CAAX;EACH;;EACD,OAAOD,OAAP;AACH;;GAPeD,e;;AAShB,OAAO,SAASG,aAAT,OAA0D;EAAA;;EAAA,IAAnC;IAACC;EAAD,CAAmC;EAC7D,MAAM,CAACC,MAAD,EAASC,SAAT,IAAoBT,QAAQ,CAAgB,IAAhB,CAAlC;;EAEA,SAASU,UAAT,CAAoBC,SAApB,EAAqCC,QAArC,EAAqD;IACjD,IAAG,CAACJ,MAAJ,EAAY;IAEZ,MAAMK,KAAK,GAAG,CAAC,GAAGL,MAAM,CAACK,KAAX,CAAd;IACA,MAAMC,SAAS,GAAGD,KAAK,CAACE,SAAN,CAAgBC,CAAC,IAAIA,CAAC,CAACL,SAAF,KAAgBA,SAArC,CAAlB;;IACA,IAAGG,SAAS,IAAI,CAAhB,EAAkB;MACdD,KAAK,CAACC,SAAD,CAAL,CAAiBF,QAAjB,IAA6BA,QAA7B;;MACA,IAAGC,KAAK,CAACC,SAAD,CAAL,CAAiBF,QAAjB,KAA8B,CAAjC,EACA;QACIC,KAAK,CAACI,MAAN,CAAaH,SAAb,EAAwB,CAAxB;MACH;;MACDL,SAAS,CAACS,SAAS,IAAI;QACnB,OAAM,EAAC,GAAGA,SAAJ;UAAgBL;QAAhB,CAAN;MACH,CAFQ,CAAT;IAGH;EACJ;;EACD,oBACI,QAAC,YAAD,CAAc,QAAd;IAAuB,KAAK,EAAE;MAACL,MAAD;MAASC,SAAT;MAAoBC;IAApB,CAA9B;IAAA,UACKH;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH;;IAxBeD,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}